<ion-app>
  <ion-header>
    <ion-toolbar color="primary">
      <ion-title>ğŸš€ Full-Stack Monorepo</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="ion-padding">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Angular + Ionic + NestJS</ion-card-title>
        <ion-card-subtitle>Simple Full-Stack Communication</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <!-- Backend Response Display -->
        @if (backendMessage()) {
          <ion-chip color="success">
            <ion-label>âœ“ {{ backendMessage() }}</ion-label>
          </ion-chip>
        } @else {
          <ion-chip color="medium">
            <ion-label>â³ No response yet</ion-label>
          </ion-chip>
        }

        <!-- Button to fetch from backend -->
        <ion-button 
          expand="block" 
          (click)="fetchFromBackend()"
          [disabled]="loading()"
          class="ion-margin-top">
          @if (loading()) {
            <ion-spinner name="crescent"></ion-spinner>
            <ion-label class="ion-margin-start">Loading...</ion-label>
          } @else {
            ğŸ“¤ Send Request to Backend
          }
        </ion-button>

        <!-- Error Display -->
        @if (error()) {
          <ion-text color="danger">
            <p><strong>âŒ Error:</strong> {{ error() }}</p>
          </ion-text>
        }
      </ion-card-content>
    </ion-card>

    <!-- Info Card -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>ğŸ’» Tech Stack</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-list lines="none">
          <ion-item>
            <div slot="start" style="font-size: 2rem;">ğŸ…°ï¸</div>
            <ion-label>
              <h3>Angular</h3>
              <p>Frontend Framework</p>
            </ion-label>
          </ion-item>
          <ion-item>
            <div slot="start" style="font-size: 2rem;">ğŸ“±</div>
            <ion-label>
              <h3>Ionic</h3>
              <p>UI Components</p>
            </ion-label>
          </ion-item>
          <ion-item>
            <div slot="start" style="font-size: 2rem;">ğŸš€</div>
            <ion-label>
              <h3>NestJS</h3>
              <p>Backend API (localhost:3000)</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </ion-content>
</ion-app>

<router-outlet />
